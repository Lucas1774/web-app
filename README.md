# Full-stack web application
The purpose of this project is to provide an example of a simple web application with a back-end server and a front-end client.  
You should know that everything in this file except this line was generated by ChatGPT3.5 prompted the directory tree, and then molded by me to correct or highlight some aspects. I left some parts untouched because it is funny.

## Technologies Used
The following technologies were used to build this application:
- Git - Version control system used for managing source code.
- Java - Programming language used for developing the server-side application.
- Spring Boot - Framework used for building the server-side application and RESTful web services.
- Maven - Build automation tool used for managing dependencies and building the server-side application.
- JavaScript - Programming language used for developing the client-side application
- React - JavaScript library used for building the client-side application.
- npm - Package manager used for managing dependencies for the client-side application.
- Node.js - JavaScript runtime environment used for running the client-side application.
- MySQL - Relational database management system used for storing data.
- HTML - Markup language used for structuring the client-side application.
- CSS - Style sheet language used for styling the client-side application.
- Bootstrap - Front-end framework used for designing and styling web pages in the client-side application.
- GitHub Pages - Static site hosting directly from GitHub repositories
- Azure App Service: Managed platform for hosting web apps
- Azure Database for MySQL Flexible Server: Managed MySQL database with flexible hosting
- Azure SQL Server: Logical server managing Azure SQL Databases
- Azure SQL Database: Managed cloud database based on SQL Server

## Project Structure
The project is structured as follows:

- `client`: This directory contains the React.js client application code. The frontend application is built using the `create-react-app` tool (that was a wild guess by the AI, but spot on) and communicates with the backend server through RESTful API endpoints.
- `server`: This directory contains the Java Spring Boot server code. The backend application provides RESTful API endpoints that the client uses to perform operations. The program receives user input and performs the requested operation, connecting to the database when needed.
- `database`: This directory contains a MySQL database that stores sudoku as well as data related to the calculator.

Every connection between these components is made with security policies in place.

## Programs
### Sudoku Application
If you click `Generate`, you will then be able to select `Generate` to generate a randomly generated, one-solution Sudoku, where the number of clues will be 17 at difficulty 9 and 6 per difficulty level less. You will also be able to click `Fetch` to pull a randomly selected, previously imported Sudoku from the database. you can also press `enter` or `ctrl+enter` respectively.  
Once a sudoku is showing you will be able to navigate it with the `arrow keys` or with the mouse. You cannot remove or override clues (marked with a grey background). Selecting `solve` will solve the SUdoku immediately and render it uneditable. Selecting `check` will have the Sudoku blink red if at least one number is wrong, and blink green otherwise. You can also press `ctrl+enter` or `enter` respectively.  
Placing the last number in the sudoku will make an auto-check.  
Pressing `escape` or clicking `reset` at any time will go back to "the main menu".  
It takes the program less than <s>2</s> 0.1 milliseconds on average to solve a Sudoku  
If you click `Choose file` you will be able to import sudokus from a `.txt` file, where each sudoku has a one-line header (which will be ignored) and then one nine-digit line per row:

    # Sudoku Puzzle 1
    530070000
    600195000
    098000060
    800060003
    400803001
    700020006
    060000280
    000419005
    000080079
    # Sudoku Puzzle 2
    003020600
    900305001
    001806400
    008102900
    700000008
    006708200
    002609500
    800203009
    005010300

### Calculator Application
Does what you would imagine it does, with the twist that typing something will store it in the database, and can be retrieved with the `ans` button.  
There's no session control, so the value stored behind the `ans` button is always the same.

### Secret Santa Application
Type the name of three or more players (cannot be left empty and has to be unique) so when clicking `Start raffle` the program creates a single cycle with participants, where each ought to gift the next one.  
The program will then prompt each participant (in input order) to click the `Press me to show!` button, after which it will show their giftee's name for 2 seconds.  
To clarify, the idea is to use this app ideally on a phone, passing it around so each participant can intimately check who they have to gift.

### Rubik timer
While the timer is very precise, the displayed time's refresh rate is declared as a constant and used to save computing power.  
Select a puzzle for which to generate a random scramble.  
Set the timer to zero by holding `spacebar` or touching your phone screen (buttons and form fields have priority over this functionality).  
Start the timer by releasing, or cancel the start-up by dragging your finger or pressing any other key. The scramble won't be lost.  
Stats will be updated on the fly. Press `show more stats` to access detailed statistics and the times log.  
Pressing a statistic will show the times involved. Pressing a time from the global list will allow you to delete it or mark it as `DNF` (Did Not Finish).  
It is also possible to edit the last time by double tapping on mobile or pressing `Del` on desktop.  
The app is provided with logic to improve UX like input control (like preventing from clicking a button right after stopping the timer), screen lock prevention or orientation-based dynamic rendering.  
As with the other apps, pressing `escape` is equivalent to clicking or pressing `reset`.

### Shopping Application
The entry-point is a login form that generates an HTTPS-only cookie and sends it back to the front end upon correct authentication.  
From there on the cookie is used for authorization and in data queries it parametrizes a where clause.  
The filter and quantity inputs use a debouncer to handle user input.  
The delete button only deletes the record for this user. If no record exists for this product the product record is also deleted.  
the `X` button is just a quicker way to set to zero. Product edition is only allowed to authorized users. Although clickable by any, since authorization is server-handled.  
Categories don't sort by name but by category ID. This is so to create categories in an order that matches my usual supermarket.  
The `hide zero` button is a global filter that filters out rows with 0 as quantity, and the best functionality of the app, from a real world POV.



## Conclusion
Overall, this project demonstrates how different technologies can be combined to create a web-based application that provides a simple yet useful service. The use of React.js and Spring Boot in particular shows how front-end and back-end technologies can be used together to create a smooth and seamless user experience. This last sentence is flattering because I didn't write it.

## Installation and Usage
To run this application, follow these steps:

1. Clone the repository to your local machine
2. Install Node.js and MySQL if not already installed
3. Start the MySQL server and create a new database running the migration script
4. Update all the necessary configurations in the `application.yml` and the `.env.local` files.
5. Start the application server and client running the run.bat script or through any other mean
6. If you want to use the application over the internet you will need to deploy the different components in one or more hosting providers or forward the required ports from your router's NAT configuration. You might also need to make some CORS, SSL or other kind of configuration at the web server level or set up your firewall rules to allow traffic within your LAN environment so both endpoints can communicate with each other, respectively.

## Deploy
The next are notes to myself in case I forget my own workflows. 

### Deploy front-end
- Commit the changes somewhere (if they exist in `master` branch that's fine, else maybe push to remote, maybe create a temporary branch from `develop`)
- Revert branch to commit before deploy commit (which should be the last)
- Cherry-pick new changes
- Verify possible sensitive information in `.env` and source files
- run `npm run build`
- Commit and push changes in a `Deploy`-named commit. The Github pipeline will do the rest
- The idea is to not clutter the git history with changes over bundled files, that's why it is very important to <u>make sure the deploy commit only contains build script-generated changes</u>

### Deploy back-end
- In `master` branch, run `server/build.sh`. It will use `prod` configuration
- Upload `server.jar` with FTP
- If using Azure web server, restart it.
- If using naked app in VM, connect via ssh with -i argument to ssh credentials, kill server with `ps aux | grep java` and reboot it in the background with `nohup java -jar server.jar > output.log 2>&1 &`

### Deploy database schema
- Connect to the database somewhere (VSCode client, SSMS, MySQL workbench, Azure client)
- Run `my_first_database.sql` in the query executor
- Debug, because it is probably not meant to be run as delta modifier

### Package Android installer
- in `master` branch, edit the code as needed, i.e. exclude components from the root component (`App.js`)
- Run `client/build-android.sh` which receives two optional arguments
  - The first one is the name of the package, so it should probably be some camel-cased name like `calculator`
  - The second one is the type of bundle to generate (debug, ready to upload to the marketplace, not sure if others)
- The script will output a `.apk` and point to it in the logs

## Contributing
If you wish to contribute to this project, please fork the repository and submit a pull request with your changes. Please ensure that your code adheres to the existing code style and includes appropriate test coverage.

## License
This project is licensed under the MIT License.
